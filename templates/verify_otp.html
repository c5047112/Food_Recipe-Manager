{% extends "base.html" %}
{% block title %}Verify OTP{% endblock %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
  /* Ensure body is normal stacking */
  body {
    font-family: "Poppins", sans-serif;
    background: linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)),
      url("https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1600&q=80");
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    display: block; /* Remove flex on body */
    padding-top: 80px; /* Space for navbar */
  }

  /* Center the OTP card */
  .otp-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: calc(100vh - 80px); /* full height minus navbar */
  }

  .otp-card {
    width: 100%;
    max-width: 420px;
    padding: 40px 30px;
    background: rgba(255, 255, 255, 0.25);
    border: 2px solid rgba(13, 110, 253, 0.4);
    border-radius: 18px;
    backdrop-filter: blur(10px);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    text-align: center;
  }

  .otp-title {
    font-weight: 800;
    font-size: 1.8rem;
    background: linear-gradient(90deg, #0d6efd, #4dabf7);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-transform: uppercase;
    margin-bottom: 15px;
  }

  .form-control {
    border-radius: 10px;
    border: 2px solid rgba(13, 110, 253, 0.6);
    text-align: center;
    font-size: 1.2rem;
    letter-spacing: 4px;
  }

  .btn-primary {
    background: linear-gradient(90deg, #0d6efd, #4dabf7);
    border: none;
    border-radius: 12px;
    font-weight: 600;
  }

  .flash {
    margin-bottom: 12px;
    padding: 10px;
    border-radius: 6px;
    font-size: 0.9rem;
  }

  .flash.success { background: #d1e7dd; color: #0f5132; }
  .flash.danger  { background: #f8d7da; color: #842029; }

  .resend {
    margin-top: 15px;
    font-size: 14px;
  }
  .resend a {
    color: #0d6efd;
    text-decoration: none;
    font-weight: 500;
  }
</style>


<div class="otp-container">
  <div class="otp-card">
    <h3 class="otp-title">Verify OTP</h3>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="flash {{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="POST">
      <div class="mb-3">
        <input type="text" name="otp" class="form-control" placeholder="Enter OTP" maxlength="6" required>
      </div>
      <button type="submit" class="btn btn-primary w-100">Verify OTP</button>
    </form>

    <div class="resend text-light mt-3">
      Didnâ€™t receive OTP? <a href="{{ url_for('signup') }}">Resend</a>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
